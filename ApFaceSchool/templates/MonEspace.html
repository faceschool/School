{% extends "Menus/MenuEspaceForm.html" %}
{% block content %}
{% load static %}
<style>
 .bg-primary {
  background-color: #004080 !important;
}

h4 {
  font-size: 1.25rem;
}

.table th, .table td {
  vertical-align: middle !important;
}

.table {
  font-size: 0.9rem;
}

.btn {
  border-radius: 10px;
}

hr {
  opacity: 0.5;
}

@media (max-width: 768px) {
  .table {
    font-size: 0.8rem;
  }

  h4 {
    font-size: 1rem;
  }

  .btn {
    font-size: 0.8rem;
    padding: 4px 8px;
  }
}


</style>
<div class="container-fluid">

    <div class="row justify-content-center m-2" >
            <div class="col-lg-6 col-md-12 col-sm-12 shadow rounded bg-info text-white p-3 mb-3">
              <h4 class="text-center text-warning fw-bold mb-3">
                üéì Cours en Ligne Google Meet Pr√©vus
              </h4>

              {% for class in mesclasse %}
                <div class="mb-3">
                  <p class="mb-1">
                    <b class="text-danger">Classe :</b>
                    <u class="text-light">[{{ class.id }} - {{ class.NomClasse }}]</u>
                  </p>

                  <div class="table-responsive">
                    <table class="table table-striped table-bordered table-sm bg-white">
                      <thead class="table-success text-center">
                        <tr>
                          <th>Titre</th>
                          <th>Description</th>
                          <th>Date d√©but</th>
                          <th>Date fin</th>
                          <th>√âtat</th>
                          <th>Lien</th>
                        </tr>
                      </thead>
                      <tbody>
                        {% for reunion in reunions_list %}
                          {% if class.id == reunion.maclasse_id %}
                            <tr>
                              <td class="fw-bold text-primary">{{ reunion.titre }}</td>
                              <td>{{ reunion.description }}</td>
                              <td>{{ reunion.date_debut|date:'d/m/Y H:i' }}</td>
                              <td>{{ reunion.date_fin|date:'d/m/Y H:i' }}</td>
                              {% if reunion.etat %}
                                <td class="text-danger">Termin√©</td>
                                <td></td>
                              {% else %}
                                <td class="text-primary">Pr√©vu</td>
                                <td>
                                  <a href="{{ reunion.meet_link }}" target="_blank"
                                     class="btn btn-sm btn-outline-success">
                                     üîó Rejoindre
                                  </a>
                                </td>
                              {% endif %}
                            </tr>
                          {% endif %}
                        {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              {% empty %}
                <div class="alert alert-danger text-center fw-bold">
                  Aucune r√©union en ligne de classe pr√©vue
                </div>
             {% endfor %}

              <hr class="border-light">
              <div class="text-center mt-2">
                <a href="{% url 'monespaceVideo' %}" class="btn btn-light btn-sm">
                  üïì Historique des cours
                </a>
              </div>
            </div>

        <div class="col-lg-6 col-md-12 col-sm-12 shadow rounded bg-info text-white p-3 mb-3">
              <h4 class="text-center text-warning fw-bold mb-3">
                üë• R√©unions de Groupe de Travail Google Meet Pr√©vues
              </h4>

              <div class="table-responsive">
                <table class="table table-striped table-bordered table-sm bg-white">
                  <thead class="table-success text-center">
                    <tr>
                      <th>Groupe</th>
                      <th>Titre</th>
                      <th>Description</th>
                      <th>Date d√©but</th>
                      <th>Date fin</th>
                      <th>√âtat</th>
                      <th>Lien</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for reunion in reunions_listGrpT %}
                      <tr>
                        {% if reunion.formateurs_id == request.user.id %}
                          <td class="text-primary fw-bold">{{ reunion.groupetravail.Groupe }}</td>
                        {% else %}
                          <td class="text-danger fw-bold">{{ reunion.groupetravail.Groupe }}</td>
                        {% endif %}
                        <td class="fw-bold text-primary">{{ reunion.titre }}</td>
                        <td>{{ reunion.description }}</td>
                        <td>{{ reunion.date_debut|date:'d/m/Y H:i' }}</td>
                        <td>{{ reunion.date_fin|date:'d/m/Y H:i' }}</td>
                        {% if reunion.etat %}
                          <td class="text-danger">Termin√©</td>
                          <td></td>
                        {% else %}
                          <td class="text-primary">Pr√©vu</td>
                          <td>
                            <a href="{{ reunion.meet_link }}" target="_blank"
                               class="btn btn-sm btn-outline-success">
                               üîó Rejoindre
                            </a>
                          </td>
                        {% endif %}
                      </tr>
                    {% empty %}
                      <tr>
                        <td colspan="7" class="text-center text-danger fw-bold">
                          Aucune r√©union de groupe de travail pr√©vue
                        </td>
                      </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
              <hr class="border-light">

              <div class="text-center mt-2">
                <a href="{% url 'monespaceVideo' %}" class="btn btn-light btn-sm">
                  üïì Historique des r√©unions
                </a>
              </div>
        </div>

    </div>
    <hr class="thicks-hr">

    <div class="row justify-content-left mt-3">
        <div class="col-md-6 col-xs-6 col-sm-6 col-lg-6 shadow">
            <div class="col-lg-12 col-md-12 col-sm-12 shadow rounded bg-info text-white p-3 mb-4">
  <div class="text-center mb-3">
    <img
      src="https://img.freepik.com/vecteurs-premium/icone-classe-etudiants-illustration-3d-collection-retour-ecole-icone-classe-creative-etudiants-3d-pour-modeles-conception-web-infographie-plus-encore_676904-3130.jpg"
      alt="Mes Classes"
      width="60"
      class="mb-2"
    />
    <h4 class="text-warning fw-bold">üè´ Mes Classes</h4>
  </div>

  {% if MesClasses %}
    <div class="table-responsive">
      <table class="table table-striped table-bordered table-sm bg-white">
        <thead class="table-success text-center">
          <tr>
            <th>ID</th>
            <th>Classe</th>
            <th>Niveau</th>
            <th>Effectif</th>
            <th>Chef de Classe</th>
            <th>Code Invitation</th>
          </tr>
        </thead>
        <tbody>
          {% for clas in MesClasses %}
            <tr>
              <td class="text-center fw-bold">{{ clas.id }}</td>
              <td class="fw-bold text-primary">{{ clas.NomClasse }}</td>
              <td>{{ clas.Niveau }}</td>
              <td class="text-center">{{ clas.Effectif }}</td>
              <td>{{ clas.ChefClasse }}</td>
              <td class="text-center text-success fw-bold">{{ clas.CodeAffect }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="alert alert-danger text-center fw-bold">
      Aucune classe trouv√©e.
    </div>
  {% endif %}
</div>

            <hr class="thick-hr">
            <div class="col-lg-12 col-md-12 col-sm-12 shadow rounded bg-info text-white p-3 mb-4">
  <div class="text-center mb-3">
    <img
      src="https://www.egfbtp.com/wp-content/uploads/2021/06/partenariat.jpg"
      alt="Partenariat"
      width="70"
      class="img-fluid mb-2 rounded"
    />
    <h4 class="text-warning fw-bold">ü§ù Mes Classes Partenaires</h4>
  </div>

  {% for clas in MesClasPart %}
    <div class="mb-3">
      <h5 class="text-center text-light bg-dark py-2 rounded">
        <b class="text-danger">{{ clas.id }} - {{ clas.NomClasse }}</b>
      </h5>

      <div class="table-responsive">
        <table class="table table-striped table-bordered table-sm bg-white">
          <thead class="table-success text-center">
            <tr>
              <th>ID</th>
              <th>Classe Partenaire</th>
              <th>√âtablissement</th>
              <th>Responsable</th>
              <th>Documents</th>
            </tr>
          </thead>
          <tbody>
            {% for Listes in ListePartenariats %}
              {% if Listes.ClassPartenaire_id == clas.id %}
                <tr>
                  <td class="text-center fw-bold">{{ Listes.ClassDemandeur.id }}</td>
                  {% if clas.username_id == request.user.id %}
                    <td class="text-primary fw-bold">{{ Listes.ClassDemandeur.NomClasse }} - {{ Listes.ClassDemandeur.id }}</td>
                  {% else %}
                    <td class="text-danger fw-bold">{{ Listes.ClassDemandeur.NomClasse }} - {{ Listes.ClassDemandeur.id }}</td>
                  {% endif %}
                  <td>{{ Listes.ClassDemandeur.CodeEts }}</td>
                  <td>{{ Listes.ClassDemandeur.ChefClasse }}</td>
                  <td class="text-center">
                    <a href="{% url 'ListeDocumentPartMaClasse' Listes.ClassDemandeur_id %}">
                      <img
                        src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg"
                        alt="Documents"
                        width="35"
                        class="img-fluid rounded"
                      />
                    </a>
                  </td>
                </tr>
              {% endif %}

              {% if Listes.ClassDemandeur_id == clas.id %}
                <tr>
                  <td class="text-center fw-bold">{{ Listes.ClassPartenaire.id }}</td>
                  {% if clas.username_id == request.user.id %}
                    <td class="text-primary fw-bold">{{ Listes.ClassPartenaire.NomClasse }} - {{ Listes.ClassPartenaire.id }}</td>
                  {% else %}
                    <td class="text-danger fw-bold">{{ Listes.ClassPartenaire.NomClasse }} - {{ Listes.ClassPartenaire.id }}</td>
                  {% endif %}
                  <td>{{ Listes.ClassPartenaire.CodeEts }}</td>
                  <td>{{ Listes.ClassPartenaire.ChefClasse }}</td>
                  <td class="text-center">
                    <a href="{% url 'ListeDocumentPartMaClasse' Listes.ClassPartenaire_id %}">
                      <img
                        src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg"
                        alt="Documents"
                        width="35"
                        class="img-fluid rounded"
                      />
                    </a>
                  </td>
                </tr>
              {% endif %}
            {% empty %}
              <tr>
                <td colspan="5" class="text-center text-danger fw-bold">
                  Aucun partenariat trouv√©.
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  {% empty %}
    <div class="alert alert-danger text-center fw-bold">
      Aucun partenariat trouv√©.
    </div>
  {% endfor %}
</div>
            <hr class="thick-hr">
            <div class="col-12 shadow rounded bg-light p-3 mb-4">
  <div class="text-center mb-3">
    <img
      src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg"
      alt="Documents"
      width="50"
      class="img-fluid mb-2"
    />
    <h4 class="text-danger fw-bold">üìÇ Mes Documents Par Classe</h4>
  </div>

  {% for clas in MesClas %}
    <div class="mb-4">
      <h5 class="text-center text-white bg-primary py-2 rounded">
        <b>{{ clas.id }} - {{ clas.NomClasse }}</b>
      </h5>

      <div class="table-responsive">
        <table class="table table-striped table-bordered table-sm">
          <thead class="table-success text-center">
            <tr>
              <th>Discipline</th>
              <th>Niveau</th>
              <th>Titre</th>
              <th>Type</th>
              <th>Document</th>
            </tr>
          </thead>
          <tbody>
            {% for doc in DocClass %}
              {% if doc.maclasse.id == clas.id %}
                <tr class="text-center">
                  <td>{{ doc.Discipline }}</td>
                  <td>{{ doc.Niveau }}</td>
                  <td>{{ doc.Titre }}</td>
                  <td>{{ doc.TypeDoc }}</td>
                  <td>
                    {% if doc.Document %}
                      <a href="{{ doc.Document.url }}" download class="btn btn-sm btn-outline-primary">T√©l√©charger</a>
                    {% else %}
                      Aucun document
                    {% endif %}
                  </td>
                </tr>
              {% endif %}
            {% empty %}
              <tr>
                <td colspan="5" class="text-center text-danger fw-bold">
                  Aucun document trouv√©.
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  {% empty %}
    <div class="alert alert-danger text-center fw-bold">
      Aucun document trouv√©.
    </div>
  {% endfor %}
</div>

             <hr class="thick-hr">
        </div>

         <div class="col-md-6 col-xs-6 col-sm-6 col-lg-6 shadow">
             <div class="col-12 shadow rounded bg-light p-3 mb-4">
  <div class="text-center mb-3">
    <img src="{% static 'images/Page/grpeTravail.jpg' %}" alt="Groupes de Travail" width="60" class="img-fluid mb-2" />
    <h4 class="text-danger fw-bold">üë• Mes Groupes de Travail</h4>
  </div>

  {% if Mesgroupes %}
    <div class="table-responsive">
      <table class="table table-striped table-bordered table-sm text-center">
        <thead class="table-success">
          <tr>
            <th>#</th>
            <th>Logo</th>
            <th>Groupe</th>
            <th>Discipline</th>
            <th>Responsable</th>
            <th>Contact</th>
            <th>Documents</th>
          </tr>
        </thead>
        <tbody>
          {% for group in Mesgroupes %}
            <tr>
              <td><a href="{% url 'AjouterFormGrpTrav' group.id %}" class="fw-bold">{{ group.id }}</a></td>
              <td>
                <a href="{% url 'AjouterFormGrpTrav' group.id %}">
                  <img src="{{ group.logo.url }}" alt="Logo" class="img-fluid rounded" width="50">
                </a>
              </td>
              <td>{{ group.Groupe }}</td>
              <td>{{ group.Discipline_id }}</td>
              <td>{{ group.Responsable }}</td>
              <td>{{ group.Contact }}</td>
              <td>
                <a href="{% url 'ListeDocumentPartGrpTrav' group.id %}">
                  <img src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg"
                       alt="Documents"
                       class="img-fluid"
                       width="40">
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <div class="alert alert-danger text-center fw-bold">
      Aucun groupe de travail trouv√©.
    </div>
  {% endif %}
</div>

            <hr class="thick-hr">
           <div class="col-12 shadow rounded bg-light p-3 mb-4">
  <div class="text-center mb-3">
    <img src="https://www.egfbtp.com/wp-content/uploads/2021/06/partenariat.jpg"
         class="img-fluid mb-2" width="60" alt="Partenaires"/>
    <h4 class="text-danger fw-bold">ü§ù Mes Groupes Partenaires</h4>
  </div>

  {% if MesGrpPart %}
    {% for clas in MesGrpPart %}
      <div class="mb-2">
        <li><b style="color: red">{{ clas.id }} - {{ clas.Groupe }}</b></li>
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-bordered table-sm text-center">
          <thead class="table-success">
            <tr>
              <th>Groupe Partenaire</th>
              <th>Responsable</th>
              <th>Contact</th>
              <th>Documents Partenaires</th>
            </tr>
          </thead>
          <tbody>
            {% for Listes in ListePartenariatsGrp %}
              {% if Listes.GroupeTravPartenaire_id == clas.id or Listes.GroupeTravDemandeur_id == clas.id %}
                <tr>
                  {% if Listes.GroupeTravPartenaire_id == clas.id %}
                    <td class="text-primary">{{ Listes.GroupeTravDemandeur.Groupe }}-{{ Listes.GroupeTravDemandeur.id }}</td>
                    <td>{{ Listes.GroupeTravDemandeur.Responsable }}</td>
                    <td>{{ Listes.GroupeTravDemandeur.Contact }}</td>
                    <td>
                      <center>
                        <a href="{% url 'ListeDocumentPartGrpTrav' Listes.GroupeTravDemandeur_id %}">
                          <img src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg"
                               class="img-fluid" width="40" alt="Documents"/>
                        </a>
                      </center>
                    </td>
                  {% else %}
                    <td class="text-primary">{{ Listes.GroupeTravPartenaire.Groupe }}-{{ Listes.GroupeTravPartenaire.id }}</td>
                    <td>{{ Listes.GroupeTravPartenaire.Responsable }}</td>
                    <td>{{ Listes.GroupeTravPartenaire.Contact }}</td>
                    <td>
                      <center>
                        <a href="{% url 'ListeDocumentPartGrpTrav' Listes.GroupeTravPartenaire_id %}">
                          <img src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg"
                               class="img-fluid" width="40" alt="Documents"/>
                        </a>
                      </center>
                    </td>
                  {% endif %}
                </tr>
              {% endif %}
            {% empty %}
              <tr>
                <td colspan="4" class="text-center text-danger fw-bold">Aucun partenariat trouv√©.</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% endfor %}
  {% else %}
    <div class="alert alert-danger text-center fw-bold">Aucun partenariat trouv√©.</div>
  {% endif %}
</div>

            <hr class="thick-hr">
              <div class="col-12 shadow rounded bg-light p-3 mb-4">
  <div class="text-center mb-3">
    <img src="https://media.istockphoto.com/id/136804993/fr/photo/isol%C3%A9-vue-de-contenir-un-fichier-de-dossiers-sur-fond-blanc.jpg?s=612x612&w=0&k=20&c=vELavkwpovpAbH1TiVIjVZbW6Lx9yzEhP1S-IUpOBSA="
         class="img-fluid mb-2" width="60" alt="Documents Groupe Travail"/>
    <h4 class="text-danger fw-bold">üìÇ Mes Documents Groupe Travail</h4>
  </div>

  {% if Mongroupe %}
    {% for group in Mongroupe %}
      <div class="mb-2">
        <li><strong>Groupe :</strong> <b style="color: red">{{ group.id }} - {{ group.Groupe }}</b></li>
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-bordered table-sm text-center">
          <thead class="table-success">
            <tr>
              <th>Discipline</th>
              <th>Niveau</th>
              <th>Type</th>
              <th>Titre</th>
              <th>Documents</th>
            </tr>
          </thead>
          <tbody>
            {% for doc in DocGrpTrav %}
              {% if doc.groupetravail.id == group.id %}
                <tr>
                  <td>{{ doc.Discipline }}</td>
                  <td>{{ doc.Niveau }}</td>
                  <td>{{ doc.TypeDoc }}</td>
                  <td>{{ doc.Titre }}</td>
                  <td>
                    {% if doc.Document %}
                      <a href="{{ doc.Document.url }}" download class="btn btn-sm btn-outline-primary">T√©l√©charger</a>
                    {% else %}
                      Aucun document
                    {% endif %}
                  </td>
                </tr>
              {% endif %}
            {% empty %}
              <tr>
                <td colspan="5" class="text-center text-danger fw-bold">Aucun document trouv√©.</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% endfor %}
  {% else %}
    <div class="alert alert-danger text-center fw-bold">Aucun document trouv√© pour vos groupes.</div>
  {% endif %}
</div>

             <hr class="thick-hr">
            </div>

        </div>
    </div>
</div>

{% endblock content %}