{% extends "Menus/MenuEspaceForm.html" %}
{% block content %}
{% load static %}
<div class="container-fluid">
    <div class="row">
        <div class="col-md-2 col-xs-2 col-sm-2 col-lg-2 mb-2 shadow ">
            <img src="{{nomgroupe.logo.url }}" alt="Photo" width="30%"><b style="color: red"> Groupe {{nomgroupe.Groupe}}</b>
        </div>
          <div class="col-md-2 col-xs-2 col-sm-2 col-lg-2">
          </div>

         <div class="col-md-4 col-xs-4 col-sm-4 col-lg-4 m-2 shadow ">
           <center> <img  width="10%" src="https://static.vecteezy.com/ti/vecteur-libre/t1/8292836-dossier-avec-documents-emploi-entreprise-et-finance-embauche-dossier-de-documents-avec-feuilles-de-papier-et-notes-adhesives-illustration-de-dessin-anime-isoler-sur-fond-blanc-vectoriel.jpg" class="img-fluid"   alt="FaceSchool"/>
              <b> <label  class="form-label" style="color: red">MES DOCUMENTS DE GROUPE DE TRAVAIL</label></b></center>

         </div>
    </div>
    <hr>
    <div class="row">

        <div class="col-md-1 col-xs-2 col-sm-2 col-lg-2 mb-5 shadow ">
           <center><b> TYPE DOCUMENTS</b></center>
            <hr>
             <table class="table table-striped table-bordered">
                {% for doc in  TypeDocs %}
                  <tr>
                   <td><b><a  href="{% url 'ListeDocGRPTravPartType' pk doc.TypeDoc %}">{{doc.TypeDoc}}</a></b></td>
                  </tr>
               {% endfor %}
             </table>
             {% if type_doc  %}
                 <form method="POST" enctype="multipart/form-data" action="{% url 'ListeDocGRPTravPartType' pk type_doc %}" class="p-4 shadow rounded bg-light">
                     {% csrf_token %}
                  <b><label for="Niveau" class="form-label">Niveau :</label></b>
                    <select class="form-select" name="Niveau" id="Niveau">
                         <option value="">-- Selectionnez un niveau --</option>
                         {% for niv in niveau %}
                             <option value="{{niv.niveau}}">{{niv.niveau}}</option>
                         {% endfor %}
                     </select>
                     <hr>
                      <center><button type="submit" class="btn btn-primary">OK</button></center>
                  </form>
             {% endif  %}
        </div>
        <div class="col-md-6 col-xs-6 col-sm-6 col-lg-6 mb-5 table-responsive shadow ">

                <table class="table table-striped table-bordered">
                  <thead class="table-success">
                    <tr>
                      {% if  ListeDossiers %}
                      <!--td>#</td-->
                      <th>Discipline</th>
                        <th>Niveau</th>
                      <th>Titre</th>
                      <th>Type</th>
                         <th width="15%">documents</th>
                         <th>Modifier</th>
                        <th>Supprimer</th>
                    {% endif %}
                    </tr>
                  </thead>
                  <tbody>
                    {% for doc in  ListeDossiers %}
                        <tr>
                          <!--td>{{doc.id}}</td-->
                          <td>{{doc.Discipline_id}}</td>
                            <td>{{doc.Niveau}}</td>
                             <td>{{doc.Titre}}</td>
                          <td>{{doc.TypeDoc}}</td>
                          <td width="5%">
                              <button  class="btn btn-link"><a href="{{ doc.Document.url }}" download>Télécharger</a></button>
                              <button  class="btn btn-link"> <a href="{% url 'Transfert_documentGrpTrav' doc.id %}">Transferer</a></button>
                         </td>
                         <td>
                            <a  href="{% url 'Modifier_DossiersGrpTrav' doc.id %}">Modifier</a>
                         </td>
                           <td>
                             <a class="nav-link text-white" onclick="return confirm('Voulez-vous vraiment supprimer ?')" href="{% url 'Supp_DossiersGrpTrav' doc.id %}"><img width="35%" src="{% static 'images/Logo/corbeille.png' %}" alt="FaceSchool"/></a>
                          </td>

                        </tr>
                    {% empty %}
                     <p style="color: red">Votre Groupe de Travail n'a aucun document</p>
                    {% endfor %}
                  </tbody>
               </table>
        </div>

        <div class="col-md-3 col-xs-3 col-sm-3 col-lg-3 mb-5 shadow">
            <div class="m-2"><center><button  class="btn btn-info "><b>DEPOSER UN DOCUMENT</b></button></center></div>
            <hr>
             <div class="col-md-12 col-xs-12 col-sm-12 col-lg-12 ">
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} shadow">{{ message }}</div>
                    {% endfor %}
                {% endif%}
            </div>
            <hr>
            <form method="POST" enctype="multipart/form-data" class="p-4 shadow rounded bg-light">

            {% csrf_token %}
            {% if form.non_field_errors %}
                <div>
                    {% for error in form.non_field_errors %}
                        <p>error</p>
                    {% endfor %}
                </div>
            {% endif %}
            <div class="mb-1">
              <b><label for="Discipline" class="form-label">Discipline :</label></b>
                <p>
                    <select class="form-control" name="Discipline">

                         <option value="{{nomgroupe.Discipline_id}}">{{nomgroupe.Discipline_id}}</option>

                   </select>
                </p>
            </div>
            <div class="mb-1">
              <b><label for="Niveau" class="form-label">Niveau :</label></b>
              <p>
                <select class="form-control" name="Niveau" id="Niveau">
                    <option value="">-- Selectionnez un Niveau --</option>
                     {% for niv in niveau %}
                         <option value="{{niv.niveau}}">{{niv.niveau}}</option>
                     {% endfor %}
                 </select>

              </p>
            </div>

             <div class="mb-1">
              <b><label for="id_Prenom" class="form-label">Type Document :</label></b>
                    <select class="form-control"  name="TypeDoc" id="formGroupExampleInput2">
                           {% for type in TypeDocs %}
                            <option value="{{type.TypeDoc}}">{{type.TypeDoc}}</option>
                          {% endfor %}
                    </select>
            </div>

             <div class="mb-1">
              <b><label for="id_Nom" class="form-label">Titre :</label></b>
              <input type="text" name="Titre" class="form-control" id="formGroupExampleInput2" placeholder="Titre du document" required>
            </div>
             <div class="mb-1">
              <b><label for="id_Prenom" class="form-label">Observation :</label></b>
                <textarea id="Observation" class="form-control" name="Observation" rows="4" cols="50" placeholder="Votre observation..." maxlength="500"></textarea>
             </div>
            <div class="mb-1">
              <b><label for="id_Prenom" class="form-label">Etat :</label></b>
              <p>
                  <select class="form-control"  name="Etat" id="formGroupExampleInput2">
                      <option value="PRIVE">PRIVE</option>
                      <option value="PUBLIC">PUBLIC</option>
                  </select>
                </p>
            </div>
           <div class="mb-1">
              <b><label for="id_Prenom" class="form-label">Document :</label></b>
              <input type="file" class="form-control" placeholder="Votre document"   name="document" id="validationCustom11" required>
           </div>

            <center><button type="submit" class="btn btn-primary">Enregistrer</button></center>
          </form>
        </div>

    </div>
</div>


{% endblock content %}